# –ü–ª–∞–Ω —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è OBD2 - –ü–æ–¥—Ä–æ–±–Ω–∞—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## –ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è

### –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç–µ—Å—Ç—ã (35 —Ç–µ—Å—Ç–æ–≤ –≤ 3 —Ñ–∞–π–ª–∞—Ö)

**tests_obd_basic.cpp** - 9 —Ç–µ—Å—Ç–æ–≤:
- –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã OBD2 (2 —Ç–µ—Å—Ç–∞)
- –ë–∞–∑–æ–≤—ã–µ –º–µ—Ç–æ–¥—ã: queryPID(), get_response() (2 —Ç–µ—Å—Ç–∞)
- –ú–æ–∫-—Ñ—É–Ω–∫—Ü–∏–∏ –∏ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã (5 —Ç–µ—Å—Ç–æ–≤)

**tests_obd_integration.cpp** - 9 —Ç–µ—Å—Ç–æ–≤:
- –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª –∑–∞–ø—Ä–æ—Å-–æ—Ç–≤–µ—Ç –¥–ª—è –æ—Å–Ω–æ–≤–Ω—ã—Ö PID (5 —Ç–µ—Å—Ç–æ–≤)
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ —Ç–∞–π–º–∞—É—Ç–æ–≤ (3 —Ç–µ—Å—Ç–∞)
- –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã (1 —Ç–µ—Å—Ç)

**tests_obd_pids.cpp** - 17 —Ç–µ—Å—Ç–æ–≤:
- –ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è —Ñ–æ—Ä–º—É–ª (5 —Ç–µ—Å—Ç–æ–≤)
- –ë–∏—Ç–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–ª—è supported PIDs (2 —Ç–µ—Å—Ç–∞)
- –°–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤ –∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã (5 —Ç–µ—Å—Ç–æ–≤)
- –ú–æ–∫-—Å–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è –≥—Ä—É–ø–ø PID (5 —Ç–µ—Å—Ç–æ–≤)

### –í—ã—è–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–µ–ª—ã –≤ –ø–æ–∫—Ä—ã—Ç–∏–∏

#### –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–µ–ª—ã:
1. **–ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç–æ–¥—ã –Ω–µ –ø–æ–∫—Ä—ã—Ç—ã:**
   - `findResponse()` - –ø–∞—Ä—Å–∏–Ω–≥ –æ—Ç–≤–µ—Ç–æ–≤ OBD2
   - `conditionResponse()` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
   - `selectCalculator()` - –≤—ã–±–æ—Ä –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞ –¥–ª—è PID

2. **–û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç —Ç–µ—Å—Ç—ã —Å–µ—Ä–≤–∏—Å–æ–≤:**
   - SERVICE_02 (Freeze frame data)
   - SERVICE_03 (Diagnostic trouble codes)

3. **60+ –Ω–µ–ø–æ–∫—Ä—ã—Ç—ã—Ö PID –º–µ—Ç–æ–¥–æ–≤** –∏–∑ –≤—Å–µ—Ö –≥—Ä—É–ø–ø (1-20, 21-40, 41-60, 61-80)

#### –í—ã—Å–æ–∫–∏–µ –ø—Ä–æ–±–µ–ª—ã:
1. –ì—Ä–∞–Ω–∏—á–Ω—ã–µ —Å–ª—É—á–∞–∏ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
2. –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ —Å—Ç—Ä–µ—Å—Å-—Ç–µ—Å—Ç—ã
3. –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
4. –¢–µ—Å—Ç—ã –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç–∏

#### –°—Ä–µ–¥–Ω–∏–µ –ø—Ä–æ–±–µ–ª—ã:
1. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
2. –¢–µ—Å—Ç—ã —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
3. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–≤ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô –ü–†–ò–û–†–ò–¢–ï–¢ (–†–µ–∞–ª–∏–∑–∞—Ü–∏—è: 1-2 –Ω–µ–¥–µ–ª–∏)

**–¶–µ–ª—å:** –ü–æ–∫—Ä—ã—Ç—å –æ—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–µ–ª—ã, –∫—Ä–∏—Ç–∏—á–Ω—ã–µ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã

#### 1. tests_obd_core_methods.cpp
**–¶–µ–ª—å:** –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–ª—é—á–µ–≤—ã—Ö –º–µ—Ç–æ–¥–æ–≤ OBD2 –∫–ª–∞—Å—Å–∞
**–û–∂–∏–¥–∞–µ–º–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–µ—Å—Ç–æ–≤:** 25-30

**–¢–µ—Å—Ç–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**
```cpp
// –¢–µ—Å—Ç—ã findResponse()
void test_findResponse_single_response_normal_query()
void test_findResponse_double_response_detection()
void test_findResponse_long_query_parsing()
void test_findResponse_mode_0x22_query()
void test_findResponse_invalid_header()
void test_findResponse_empty_payload()
void test_findResponse_malformed_response()

// –¢–µ—Å—Ç—ã conditionResponse()
void test_conditionResponse_basic_scaling()
void test_conditionResponse_with_bias()
void test_conditionResponse_overflow_protection()
void test_conditionResponse_invalid_byte_count()
void test_conditionResponse_lagging_zeros_detection()
void test_conditionResponse_leading_zeros_handling()

// –¢–µ—Å—Ç—ã selectCalculator()
void test_selectCalculator_engine_rpm()
void test_selectCalculator_maf_flow_rate()
void test_selectCalculator_oxygen_sensors()
void test_selectCalculator_fuel_rail_pressure()
void test_selectCalculator_catalyst_temperature()
void test_selectCalculator_unsupported_pid()
void test_selectCalculator_null_return()

// –¢–µ—Å—Ç—ã –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤
void test_ctoi_decimal_conversion()
void test_ctoi_hex_conversion()
void test_nextIndex_single_occurrence()
void test_nextIndex_multiple_occurrences()
void test_nextIndex_not_found()
void test_removeChar_basic_removal()
void test_timeout_detection()
```

#### 2. tests_obd_services.cpp
**–¶–µ–ª—å:** –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ OBD2
**–û–∂–∏–¥–∞–µ–º–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–µ—Å—Ç–æ–≤:** 15-20

**–¢–µ—Å—Ç–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**
```cpp
// SERVICE_01 —Ç–µ—Å—Ç—ã
void test_service_01_current_data_request()
void test_service_01_supported_pids_query()
void test_service_01_multiple_pid_sequence()

// SERVICE_02 —Ç–µ—Å—Ç—ã
void test_service_02_freeze_frame_request()
void test_service_02_freeze_frame_parsing()
void test_service_02_multiple_freeze_frames()
void test_service_02_no_freeze_frame_data()

// SERVICE_03 —Ç–µ—Å—Ç—ã
void test_service_03_dtc_request()
void test_service_03_dtc_parsing()
void test_service_03_multiple_dtc_codes()
void test_service_03_no_dtc_codes()

// –ú–µ–∂—Å–µ—Ä–≤–∏—Å–Ω—ã–µ —Ç–µ—Å—Ç—ã
void test_service_switching()
void test_invalid_service_handling()
void test_service_timeout_handling()
```

### üü° –í–´–°–û–ö–ò–ô –ü–†–ò–û–†–ò–¢–ï–¢ (–†–µ–∞–ª–∏–∑–∞—Ü–∏—è: 2-3 –Ω–µ–¥–µ–ª–∏)

#### 3. tests_obd_pid_group_1_20.cpp
**–¶–µ–ª—å:** –ü–æ–ª–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ PID –≥—Ä—É–ø–ø—ã 1-20
**–û–∂–∏–¥–∞–µ–º–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–µ—Å—Ç–æ–≤:** 35-40

**–ù–µ–ø–æ–∫—Ä—ã—Ç—ã–µ PID –º–µ—Ç–æ–¥—ã:**
- `monitorStatus()`, `freezeDTC()`, `fuelSystemStatus()`
- `shortTermFuelTrimBank_1()`, `longTermFuelTrimBank_1()`
- `shortTermFuelTrimBank_2()`, `longTermFuelTrimBank_2()`
- `fuelPressure()`, `manifoldPressure()`, `timingAdvance()`
- `intakeAirTemp()`, `mafRate()`, `throttle()`
- `commandedSecAirStatus()`, `oxygenSensorsPresent_2banks()`
- `obdStandards()`, `oxygenSensorsPresent_4banks()`
- `auxInputStatus()`, `runTime()`

#### 4. tests_obd_pid_group_21_40.cpp
**–¶–µ–ª—å:** –ü–æ–ª–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ PID –≥—Ä—É–ø–ø—ã 21-40
**–û–∂–∏–¥–∞–µ–º–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–µ—Å—Ç–æ–≤:** 25-30

**–ù–µ–ø–æ–∫—Ä—ã—Ç—ã–µ PID –º–µ—Ç–æ–¥—ã:**
- `distTravelWithMIL()`, `fuelRailPressure()`, `fuelRailGuagePressure()`
- `commandedEGR()`, `egrError()`, `commandedEvapPurge()`
- `fuelLevel()`, `warmUpsSinceCodesCleared()`, `distSinceCodesCleared()`
- `evapSysVapPressure()`, `absBaroPressure()`
- `catTempB1S1()`, `catTempB2S1()`, `catTempB1S2()`, `catTempB2S2()`

#### 5. tests_obd_pid_group_41_60.cpp
**–¶–µ–ª—å:** –ü–æ–ª–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ PID –≥—Ä—É–ø–ø—ã 41-60
**–û–∂–∏–¥–∞–µ–º–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–µ—Å—Ç–æ–≤:** 30-35

**–ù–µ–ø–æ–∫—Ä—ã—Ç—ã–µ PID –º–µ—Ç–æ–¥—ã:**
- `monitorDriveCycleStatus()`, `ctrlModVoltage()`, `absLoad()`
- `commandedAirFuelRatio()`, `relativeThrottle()`, `ambientAirTemp()`
- `absThrottlePosB()`, `absThrottlePosC()`, `absThrottlePosD()`
- `absThrottlePosE()`, `absThrottlePosF()`, `commandedThrottleActuator()`
- `timeRunWithMIL()`, `timeSinceCodesCleared()`, `maxMafRate()`
- `fuelType()`, `ethanolPercent()`, `absEvapSysVapPressure()`
- `evapSysVapPressure2()`, `absFuelRailPressure()`, `relativePedalPos()`
- `hybridBatLife()`, `oilTemp()`, `fuelInjectTiming()`, `fuelRate()`

#### 6. tests_obd_pid_group_61_80.cpp
**–¶–µ–ª—å:** –ü–æ–ª–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ PID –≥—Ä—É–ø–ø—ã 61-80
**–û–∂–∏–¥–∞–µ–º–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–µ—Å—Ç–æ–≤:** 10-15

**–ù–µ–ø–æ–∫—Ä—ã—Ç—ã–µ PID –º–µ—Ç–æ–¥—ã:**
- `demandedTorque()`, `torque()`, `referenceTorque()`, `auxSupported()`

#### 7. tests_obd_error_handling.cpp
**–¶–µ–ª—å:** –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≥—Ä–∞–Ω–∏—á–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫
**–û–∂–∏–¥–∞–µ–º–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–µ—Å—Ç–æ–≤:** 20-25

**–¢–µ—Å—Ç–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**
```cpp
// –ì—Ä–∞–Ω–∏—á–Ω—ã–µ —Å–ª—É—á–∞–∏
void test_boundary_values_min_max()
void test_zero_values_handling()
void test_overflow_values_handling()
void test_negative_values_handling()

// –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
void test_invalid_pid_handling()
void test_malformed_response_handling()
void test_timeout_scenarios()
void test_buffer_overflow_protection()
void test_memory_allocation_failures()
void test_network_disconnection_handling()

// –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ –æ—à–∏–±–æ–∫
void test_error_recovery_mechanisms()
void test_retry_logic()
void test_fallback_strategies()
```

### üü¢ –°–†–ï–î–ù–ò–ô –ü–†–ò–û–†–ò–¢–ï–¢ (–†–µ–∞–ª–∏–∑–∞—Ü–∏—è: 3-4 –Ω–µ–¥–µ–ª–∏)

#### 8. tests_obd_performance.cpp
**–¶–µ–ª—å:** –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ —Å—Ç—Ä–µ—Å—Å-—Ç–µ—Å—Ç—ã
**–û–∂–∏–¥–∞–µ–º–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–µ—Å—Ç–æ–≤:** 15-20

**–¢–µ—Å—Ç–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**
```cpp
// –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
void test_single_pid_query_performance()
void test_multiple_pid_query_performance()
void test_memory_usage_monitoring()
void test_cpu_usage_monitoring()

// –°—Ç—Ä–µ—Å—Å-—Ç–µ—Å—Ç—ã
void test_continuous_querying_stress()
void test_rapid_service_switching()
void test_large_payload_handling()
void test_concurrent_access_stress()

// –ù–∞–≥—Ä—É–∑–æ—á–Ω—ã–µ —Ç–µ—Å—Ç—ã
void test_high_frequency_requests()
void test_long_running_sessions()
void test_resource_exhaustion_scenarios()
```

---

## –î–µ—Ç–∞–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –Ω–æ–≤—ã—Ö —Ç–µ—Å—Ç–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤

### –û–±—â–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

1. **–ï–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:** –ö–∞–∂–¥—ã–π —Ñ–∞–π–ª —Å–ª–µ–¥—É–µ—Ç –æ–¥–Ω–æ–º—É —à–∞–±–ª–æ–Ω—É
2. **–ò–∑–æ–ª—è—Ü–∏—è —Ç–µ—Å—Ç–æ–≤:** –ö–∞–∂–¥—ã–π —Ç–µ—Å—Ç –Ω–µ–∑–∞–≤–∏—Å–∏–º –∏ –º–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ
3. **–ú–æ–∫–∏—Ä–æ–≤–∞–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ MockIsoTp –¥–ª—è –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤
4. **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:** –ü–æ–¥—Ä–æ–±–Ω—ã–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–µ—Å—Ç–∞
5. **–í–∞–ª–∏–¥–∞—Ü–∏—è:** –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö –∞—Å–ø–µ–∫—Ç–æ–≤ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

### –®–∞–±–ª–æ–Ω —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Ñ–∞–π–ª–∞

```cpp
#include <cstdio>
#include <cstring>
#include "mock_iso_tp.h"
#include "obd2.h"
#include "unity.h"

// ============================================================================
// [–ù–ê–ó–í–ê–ù–ò–ï –ì–†–£–ü–ü–´ –¢–ï–°–¢–û–í]
// ============================================================================

/*
 * –ü–û–ö–†–´–¢–ò–ï –¢–ï–°–¢–ê–ú–ò:
 * 
 * ‚úÖ [–°–ø–∏—Å–æ–∫ –ø–æ–∫—Ä—ã–≤–∞–µ–º–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏]
 * 
 * üìã –¢–ï–°–¢–û–í–´–ï –°–¶–ï–ù–ê–†–ò–ò:
 * - [–û–ø–∏—Å–∞–Ω–∏–µ –æ—Å–Ω–æ–≤–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤]
 */

// –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã –¥–ª—è —Ç–µ—Å—Ç–æ–≤
static MockIsoTp g_mock_iso_tp;

// ============================================================================
// [–ü–û–î–ì–†–£–ü–ü–ê –¢–ï–°–¢–û–í 1]
// ============================================================================

// –¢–µ—Å—Ç N: [–û–ø–∏—Å–∞–Ω–∏–µ —Ç–µ—Å—Ç–∞]
void test_[–Ω–∞–∑–≤–∞–Ω–∏–µ_—Ñ—É–Ω–∫—Ü–∏–∏]() {
    // –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞
    g_mock_iso_tp.reset();
    OBD2 obd2(g_mock_iso_tp);
    
    // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–æ–∫-–¥–∞–Ω–Ω—ã—Ö
    // [–°–ø–µ—Ü–∏—Ñ–∏—á–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞]
    
    // –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
    // [–í—ã–∑–æ–≤ —Ç–µ—Å—Ç–∏—Ä—É–µ–º–æ–π —Ñ—É–Ω–∫—Ü–∏–∏]
    
    // –ü—Ä–æ–≤–µ—Ä–∫–∞
    // [Assertions]
    
    // –û—á–∏—Å—Ç–∫–∞
    // [–û—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤]
}

// –§—É–Ω–∫—Ü–∏—è –∑–∞–ø—É—Å–∫–∞ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤ –≥—Ä—É–ø–ø—ã
extern "C" void run_[–Ω–∞–∑–≤–∞–Ω–∏–µ_–≥—Ä—É–ø–ø—ã]_tests() {
    RUN_TEST(test_[–Ω–∞–∑–≤–∞–Ω–∏–µ_—Ñ—É–Ω–∫—Ü–∏–∏]);
    // [–î—Ä—É–≥–∏–µ —Ç–µ—Å—Ç—ã]
}
```

---

## –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –∏ —Å—Ü–µ–Ω–∞—Ä–∏–∏

### –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è PID –≥—Ä—É–ø–ø

#### –ì—Ä—É–ø–ø–∞ 1-20 (–û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–≤–∏–≥–∞—Ç–µ–ª—è)
```cpp
// ENGINE_RPM: A=0x1A, B=0xF8 ‚Üí RPM = ((26*256)+248)/4 = 1726
// ENGINE_LOAD: A=0x80 ‚Üí Load = (128*100)/255 = 50.2%
// ENGINE_COOLANT_TEMP: A=0x5A ‚Üí Temp = 90-40 = 50¬∞C
// VEHICLE_SPEED: A=0x50 ‚Üí Speed = 80 km/h
// MAF_FLOW_RATE: A=0x01, B=0x90 ‚Üí MAF = ((1*256)+144)/100 = 4.0 g/s
```

#### –ì—Ä—É–ø–ø–∞ 21-40 (–¢–æ–ø–ª–∏–≤–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∏ –¥–∞—Ç—á–∏–∫–∏)
```cpp
// FUEL_RAIL_PRESSURE: A=0x12, B=0x34 ‚Üí Pressure = ((18*256)+52)*0.079 = 372.4 kPa
// FUEL_TANK_LEVEL_INPUT: A=0xCC ‚Üí Level = (204*100)/255 = 80%
// CATALYST_TEMP_B1S1: A=0x03, B=0x20 ‚Üí Temp = (((3*256)+32)/10)-40 = 43.2¬∞C
```

#### –ì—Ä—É–ø–ø–∞ 41-60 (–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã)
```cpp
// CONTROL_MODULE_VOLTAGE: A=0x30, B=0x39 ‚Üí Voltage = ((48*256)+57)/1000 = 12.345V
// ETHANOL_FUEL_PERCENT: A=0x33 ‚Üí Ethanol = (51*100)/255 = 20%
// ENGINE_OIL_TEMP: A=0x96 ‚Üí Temp = 150-40 = 110¬∞C
```

#### –ì—Ä—É–ø–ø–∞ 61-80 (–ö—Ä—É—Ç—è—â–∏–π –º–æ–º–µ–Ω—Ç –∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ)
```cpp
// DEMANDED_ENGINE_PERCENT_TORQUE: A=0x96 ‚Üí Torque = 150-125 = 25%
// ENGINE_REFERENCE_TORQUE: A=0x01, B=0x2C ‚Üí Torque = (1*256)+44 = 300 Nm
```

### –°—Ü–µ–Ω–∞—Ä–∏–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫

#### –ù–µ–≥–∞—Ç–∏–≤–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã (0x7F)
```cpp
// –ö–æ–¥—ã –æ—à–∏–±–æ–∫:
// 0x10 - generalReject
// 0x11 - serviceNotSupported  
// 0x12 - subFunctionNotSupported
// 0x21 - busyRepeatRequest
// 0x22 - conditionsNotCorrect
// 0x78 - requestCorrectlyReceived-ResponsePending
```

#### –ì—Ä–∞–Ω–∏—á–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
```cpp
// –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è: 0x00
// –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è: 0xFF, 0xFFFF
// –ü–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–µ –±—É—Ñ–µ—Ä–æ–≤
// –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–ª–∏–Ω—ã —Å–æ–æ–±—â–µ–Ω–∏–π
```

---

## –°—Ç—Ä–∞—Ç–µ–≥–∏—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –§–∞–∑–∞ 1: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (1-2 –Ω–µ–¥–µ–ª–∏)
1. **–ù–µ–¥–µ–ª—è 1:** tests_obd_core_methods.cpp
   - –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤ findResponse() (3 –¥–Ω—è)
   - –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤ conditionResponse() (2 –¥–Ω—è)
   - –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤ selectCalculator() (2 –¥–Ω—è)

2. **–ù–µ–¥–µ–ª—è 2:** tests_obd_services.cpp
   - SERVICE_02 –∏ SERVICE_03 —Ç–µ—Å—Ç—ã (4 –¥–Ω—è)
   - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã —Å–µ—Ä–≤–∏—Å–æ–≤ (3 –¥–Ω—è)

### –§–∞–∑–∞ 2: –í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (2-3 –Ω–µ–¥–µ–ª–∏)
1. **–ù–µ–¥–µ–ª—è 3-4:** PID –≥—Ä—É–ø–ø—ã 1-20 –∏ 21-40
2. **–ù–µ–¥–µ–ª—è 5:** PID –≥—Ä—É–ø–ø—ã 41-60 –∏ 61-80
3. **–ù–µ–¥–µ–ª—è 6:** tests_obd_error_handling.cpp

### –§–∞–∑–∞ 3: –°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (1 –Ω–µ–¥–µ–ª—è)
1. **–ù–µ–¥–µ–ª—è 7:** tests_obd_performance.cpp

---

## –ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—à–Ω–æ—Å—Ç–∏

### –ú–µ—Ç—Ä–∏–∫–∏ –ø–æ–∫—Ä—ã—Ç–∏—è
- **–¶–µ–ª–µ–≤–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞:** 85-90%
- **–ü–æ–∫—Ä—ã—Ç–∏–µ —Ñ—É–Ω–∫—Ü–∏–π:** 95%+
- **–ü–æ–∫—Ä—ã—Ç–∏–µ –≤–µ—Ç–æ–∫:** 80%+

### –ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏
1. **–í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –º–µ—Ç–æ–¥—ã –ø–æ–∫—Ä—ã—Ç—ã —Ç–µ—Å—Ç–∞–º–∏**
2. **–í—Å–µ PID –º–µ—Ç–æ–¥—ã –∏–º–µ—é—Ç –±–∞–∑–æ–≤—ã–µ —Ç–µ—Å—Ç—ã**
3. **–ì—Ä–∞–Ω–∏—á–Ω—ã–µ —Å–ª—É—á–∞–∏ –∏ –æ—à–∏–±–∫–∏ –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã**
4. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –Ω–æ—Ä–º—ã**

### –ö–æ–ª–∏—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ü–µ–ª–∏
- **–û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–µ—Å—Ç–æ–≤:** 160-200 (—É–≤–µ–ª–∏—á–µ–Ω–∏–µ —Å 35 –¥–æ 200)
- **–ü–æ–∫—Ä—ã—Ç–∏–µ PID –º–µ—Ç–æ–¥–æ–≤:** 100% (—Å —Ç–µ–∫—É—â–∏—Ö ~10% –¥–æ 100%)
- **–ü–æ–∫—Ä—ã—Ç–∏–µ –∫–ª—é—á–µ–≤—ã—Ö –º–µ—Ç–æ–¥–æ–≤:** 100% (findResponse, conditionResponse, selectCalculator)

---

## –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è

### –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- **Unity Test Framework** - –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- **MockIsoTp** - –º–æ–∫–∏—Ä–æ–≤–∞–Ω–∏–µ ISO-TP –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
- **CMake** - —Å–∏—Å—Ç–µ–º–∞ —Å–±–æ—Ä–∫–∏
- **gcov/lcov** - –∞–Ω–∞–ª–∏–∑ –ø–æ–∫—Ä—ã—Ç–∏—è –∫–æ–¥–∞

### –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è
1. **–ù–µ–ø—Ä–µ—Ä—ã–≤–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö
2. **–û—Ç—á–µ—Ç—ã –ø–æ–∫—Ä—ã—Ç–∏—è:** –ì–µ–Ω–µ—Ä–∞—Ü–∏—è HTML –æ—Ç—á–µ—Ç–æ–≤ –ø–æ–∫—Ä—ã—Ç–∏—è
3. **–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑:** –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞
4. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** –ê–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ —Ç–µ—Å—Ç–æ–≤

### –°–∫—Ä–∏–ø—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏
```bash
# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤
./unity-app/build_and_run.sh

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–∞ –ø–æ–∫—Ä—ã—Ç–∏—è
./generate_coverage_report.sh

# –ó–∞–ø—É—Å–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –≥—Ä—É–ø–ø—ã —Ç–µ—Å—Ç–æ–≤
./run_test_group.sh obd_core_methods
```

---

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–î–∞–Ω–Ω—ã–π –ø–ª–∞–Ω —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –æ–±–µ—Å–ø–µ—á–∏—Ç:

1. **–ü–æ–≤—ã—à–µ–Ω–∏–µ –ø–æ–∫—Ä—ã—Ç–∏—è —Å 25% –¥–æ 85-90%**
2. **–ü–æ–∫—Ä—ã—Ç–∏–µ –≤—Å–µ—Ö –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –º–µ—Ç–æ–¥–æ–≤**
3. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö PID –≥—Ä—É–ø–ø**
4. **–ù–∞–¥–µ–∂–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫**
5. **–ö–æ–Ω—Ç—Ä–æ–ª—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏**

**–û–±—â–∞—è —Ç—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç–Ω–æ—Å—Ç—å:** 6-7 –Ω–µ–¥–µ–ª—å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –í—ã—Å–æ–∫–æ–∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–∞—è, –Ω–∞–¥–µ–∂–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è OBD2 –ø—Ä–æ—Ç–æ–∫–æ–ª–∞

–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω–æ–≥–æ –ø–ª–∞–Ω–∞ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –ø–æ–≤—ã—Å–∏—Ç –∫–∞—á–µ—Å—Ç–≤–æ –∏ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å OBD2 –±–∏–±–ª–∏–æ—Ç–µ–∫–∏, –æ–±–µ—Å–ø–µ—á–∏–≤ –ø–æ–ª–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –∏ –∑–∞—â–∏—Ç—É –æ—Ç —Ä–µ–≥—Ä–µ—Å—Å–∏–π.